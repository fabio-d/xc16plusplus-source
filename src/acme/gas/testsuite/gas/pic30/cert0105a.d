#as: 
#name: .macro and .endm, Define macros, functionality
#source: cert0105a.s




.*  .*cert0105a\.s 			page 1
cert0105 Define macros
subtitle1 test
   1              		\.title cert0105 Define macros
   2              		\.sbttl subtitle1 test
   3              	
   4              		\.macro	sum from=0, to=5
   5              		\.long	\\from
   6              		\.if	\\to-\\from
   7              		sum	"\(\\from\+1\)",\\to
   8              		\.endif
   9              		\.endm
  10              		
  31              		\.list
  32              		SUM 1,4
  32 00001c  01 00 00 	\> \.long 1
  32         00 00 00 
  32              	\> \.if 4-1
  32              	\> sum "\(1\+1\)",4
  32 000020  02 00 00 	\>\> \.long \(1\+1\)
  32         00 00 00 
  32              	\>\> \.if 4-\(1\+1\)
  32              	\>\> sum "\(\(1\+1\)\+1\)",4
  32 000024  03 00 00 	\>\>\> \.long \(\(1\+1\)\+1\)
  32         00 00 00 
  32              	\>\>\> \.if 4-\(\(1\+1\)\+1\)
  32              	\>\>\> sum "\(\(\(1\+1\)\+1\)\+1\)",4
  32 000028  04 00 00 	\>\>\>\> \.long \(\(\(1\+1\)\+1\)\+1\)
  32         00 00 00 
  32              	\>\>\>\> \.if 4-\(\(\(1\+1\)\+1\)\+1\)
  32              	\>\>\>\> sum "\(\(\(\(1\+1\)\+1\)\+1\)\+1\)",4
  32              	\>\>\>\> \.endif
  32              	\>\>\> \.endif
  32              	\>\> \.endif
  32              	\> \.endif
  33              		
  34              		SUM 1,5
  34 00002c  01 00 00 	\> \.long 1
  34         00 00 00 
  34              	\> \.if 5-1
  34              	\> sum "\(1\+1\)",5
  34 000030  02 00 00 	\>\> \.long \(1\+1\)
  34         00 00 00 
  34              	\>\> \.if 5-\(1\+1\)
  34              	\>\> sum "\(\(1\+1\)\+1\)",5
  34 000034  03 00 00 	\>\>\> \.long \(\(1\+1\)\+1\)
  34         00 00 00 
  34              	\>\>\> \.if 5-\(\(1\+1\)\+1\)
  34              	\>\>\> sum "\(\(\(1\+1\)\+1\)\+1\)",5
  34 000038  04 00 00 	\>\>\>\> \.long \(\(\(1\+1\)\+1\)\+1\)
  34         00 00 00 
  34              	\>\>\>\> \.if 5-\(\(\(1\+1\)\+1\)\+1\)
  34              	\>\>\>\> sum "\(\(\(\(1\+1\)\+1\)\+1\)\+1\)",5
  34 00003c  05 00 00 	\>\>\>\>\> \.long \(\(\(\(1\+1\)\+1\)\+1\)\+1\)
  34         00 00 00 
  34              	\>\>\>\>\> \.if 5-\(\(\(\(1\+1\)\+1\)\+1\)\+1\)
  34              	\>\>\>\>\> sum "\(\(\(\(\(1\+1\)\+1\)\+1\)\+1\)\+1\)",5
  34              	\>\>\>\>\> \.endif
  34              	\>\>\>\> \.endif
  34              	\>\>\> \.endif
.*  .*cert0105a\.s 			page 2
cert0105 Define macros
subtitle1 test
  34              	\>\> \.endif
  34              	\> \.endif
  35              		
  36              		SUM 2,3
  36 000040  02 00 00 	\> \.long 2
  36         00 00 00 
  36              	\> \.if 3-2
  36              	\> sum "\(2\+1\)",3
  36 000044  03 00 00 	\>\> \.long \(2\+1\)
  36         00 00 00 
  36              	\>\> \.if 3-\(2\+1\)
  36              	\>\> sum "\(\(2\+1\)\+1\)",3
  36              	\>\> \.endif
  36              	\> \.endif
